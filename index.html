<html>
<head>
  <title>Expense Report</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/darkly/bootstrap.min.css" integrity="sha384-nNK9n28pDUDDgIiIqZ/MiyO3F4/9vsMtReZK39klb/MtkZI3/LtjSjlmyVPS3KdN" crossorigin="anonymous">
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="include.css">
  <script src="include.js"></script>
</head>
<body>

<div class="container">

    <h1 class="text-muted mb-0">
        Expense Report
    </h1>

</div>

<div id="erForm" class="container py-4">

    <div class="float-right custom-control custom-switch">
        <input type="checkbox" class="custom-control-input" id="theme_switch">
        <label id="theme_label" class="custom-control-label" for="theme_switch">Theme: Dark</label>
    </div>

    <p><span class="text-info">Please enter in all the appropriate information. Once submitted, the expense report will be sent to HR for approval.<br>
    You should receive confirmation of approval within 1-2 days.<br>
    If you have any questions, reach out to <a href="mailto:hr@example.com"><i class="fa fa-envelope"></i> hr@example.com</a></p>

    <form name="erForm" action="expense.php" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>

        <div class="input-group mb-1">
            <div class="input-group-prepend">
                <span class="input-group-text"><i class="fa fa-fw fa-user"></i></span>
            </div>
            <input type="text" name="fname" class="form-control" placeholder="First Name" required>
            <div class="invalid-tooltip">Required!</div>
        </div>

        <div class="input-group mb-1">
            <div class="input-group-prepend">
                <span class="input-group-text"><i class="fa fa-fw fa-user"></i></span>
            </div>
            <input type="text" name="lname" class="form-control" placeholder="Last Name" required>
            <div class="invalid-tooltip">Required!</div>
        </div>

        <div class="input-group mb-1">
            <div class="input-group-prepend">
                <span class="input-group-text"><i class="fa fa-fw fa-envelope"></i></span>
            </div>
            <input type="text" name="email" class="form-control" placeholder="user@example.com" required>
            <div class="invalid-tooltip">Required!</div>
        </div>

        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text"><i class="fa fa-fw fa-calendar"></i></span>
            </div>
            <div class="input-group-prepend">
                <span class="input-group-text">Date</span>
            </div>
            <input type="date" name="date" class="form-control" required>
            <div class="invalid-tooltip">Required!</div>
        </div>

        <div class="bg-info p-2 rounded">
            <i class="fas fa-list-alt"></i> Items
        </div>

        <div class="mb-1 pl-2 pt-1">
            <small class="text-muted"><i class="fas fa-info-circle"></i> Please set the item amount in the currency you paid for it, then calculate the currency conversion for how you want to be paid. <a href="https://www.oanda.com/currency-converter/" target="_blank">Conversion Calculator</a></small>
        </div>

        <div class="py-2">
            <button id="addERrow" type="button" class="btn btn-outline-secondary"><i class="fas fa-plus-square"></i> Add Row</button>
        </div>

        <div class="bg-dark text-white rounded mb-2 small">
            <div class="row p-2">
                <div class="col-md-6 bold">
                    Item Description
                </div>
                <div class="col-md-3 bold">
                    Item Amount in Currency
                </div>
                <div class="col-md-3 bold">
                    Paid Back Amount in Currency
                </div>
            </div>
        </div>

        <div id="erTable"></div>

        <div class="bg-info p-2 mt-3 mb-1 rounded">
            <i class="fas fa-image"></i> Image(s) of receipts: (screenshot, pdf, photo of receipt)
        </div>

        <div class="mb-1 pl-2 pt-1">
            <small class="text-muted"><i class="fas fa-info-circle"></i> Image sizes cannot exceed 10MB.</small>
        </div>

        <div id="attFilesArea" class="mt-2 mb-3">
            <label for="attFiles"><span id="attAddFile" class="btn btn-outline-secondary"><i class="fas fa-paperclip"></i> Add Receipts</button></span>
            <div class="files-required position-absolute mt-1 p-1 bg-danger text-white small rounded" style="display:none;">Required!</div>
            <div class="files-error position-absolute mt-1 p-1 bg-danger text-white small rounded" style="display:none;">
                <i class="fas fa-exclamation-triangle"></i> Attachments have exceeded upload limit of 10 MB!
            </div>
            <div class="mt-0 ml-4 mr-4">
                <table id="attTable" class="table"></table>
            </div>
            <input type="file" id="attFiles" name="files" multiple="multiple" style="display:none;">
        </div>

        <div class="bg-info p-2 rounded">
            <i class="fas fa-money-bill-alt"></i> Payment Options
        </div>

        <div class="input-group my-2">
            <div class="input-group-prepend">
                <span class="input-group-text"><i class="fa fa-fw fa-envelope"></i></span>
            </div>
            <input type="text" name="paypal" class="form-control" placeholder="PayPal Account Email (Only for US W2/ADP Employees)">
        </div>

        <div class="input-group my-2">
            <textarea name="notes" class="form-control" placeholder="Optional additional notes about this purchase."></textarea>
        </div>

        <div class="my-4">
            <button type="submit" class="btn btn-primary"><i class="fa fa-arrow-right"></i> Submit Form</button>
        </div>

        <div id="erError" class="bg-warning rounded text-danger p-2 m-2 d-none w-50">
            <i class="fas fa-exclamation-triangle"></i> Please check required fields!
        </div>

    </form>

    <div id="erDebug" class="bg-warning p-2 m-2 d-none"></div>

</div>

<div id="erError" class="container d-none"></div>

<div id="erDone" class="container d-none">

    <h2 class="text-info">
        Thanks for filling in this form!
    </h2>

    <p>Your <b class="text-warning">Expense Report</b> has been successfully submitted.</p>

    <p>A copy of this expense report has been emailed to you as well.</p>

    <p>If you need to adjust your submitted expense report, please reach out to HR at <a href="mailto:hr@example.com"><i class="fa fa-envelope"></i> hr@example.com</a></p>

</div>

<div id="erRowTmpl" class="d-none">
    <div class="form-row">
        <div class="col-md-6">
            <div class="input-group flex-nowrap">
                <div class="input-group-prepend">
                    <button type="button" class="btn btn-outline-secondary btn-row-del"><i class="fas fa-trash"></i></button>
                </div>
                <input type="text" name="item[]" class="form-control" placeholder="Item Description: (ex. airplane ticket to Hawaii) " maxlength="128" required>
            </div>
        </div>
        <div class="col-md-2">
            <input type="text" name="item_cost[]" class="form-control text-right" size="24" placeholder="0.00" maxlength="16" required>
        </div>
        <div class="col-md-1">
            <select name="item_cur[]" class="custom-select" required>
                <option value="USD" selected>USD</option>
                <option value="CAD">CAD</option>
                <option value="CHF">CHF</option>
                <option value="CNY">CNY</option>
                <option value="EUR">EUR</option>
                <option value="GBP">GPB</option>
                <option value="AUD">AUD</option>
            </select>
        </div>
        <div class="col-md-2">
            <input type="text" name="paid_cost[]" class="form-control text-right" size="24" placeholder="0.00" maxlength="16" required>
        </div>
        <div class="col-md-1">
            <select name="paid_cur[]" class="custom-select" required>
                <option value="USD" selected>USD</option>
                <option value="CAD">CAD</option>
                <option value="CHF">CHF</option>
                <option value="CNY">CNY</option>
                <option value="EUR">EUR</option>
                <option value="GBP">GPB</option>
                <option value="AUD">AUD</option>
            </select>
        </div>
        <div class="invalid-tooltip">Required!</div>
    </div>
</div>

</body>
</html>
